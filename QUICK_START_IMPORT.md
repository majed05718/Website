# 🚀 دليل الاستخدام السريع - استيراد العقارات

## 📍 الوصول للصفحة

```
المسار: /dashboard/properties/import
```

أو من صفحة العقارات الرئيسية اضغط على زر "استيراد Excel"

## 🎯 خطوات الاستيراد (5 خطوات)

### 1️⃣ رفع الملف

**الطريقة الأولى: Drag & Drop**
- اسحب ملف Excel أو CSV إلى المربع المخصص

**الطريقة الثانية: اختيار الملف**
- اضغط على زر "اختر ملف"
- اختر الملف من جهازك

**الملفات المدعومة:**
- ✅ Excel 2007+ (.xlsx)
- ✅ Excel 97-2003 (.xls)
- ✅ CSV (.csv)

**نصيحة:** يمكنك تنزيل قالب جاهز بالضغط على "تنزيل القالب"

---

### 2️⃣ ربط الأعمدة

سيتم ربط الأعمدة تلقائياً! 🎉

**ما الذي سيحدث:**
- ✅ سيتم مطابقة أعمدة Excel مع حقول النظام تلقائياً
- ✅ ستظهر علامة ✓ للمطابقات الصحيحة (100%)
- ⚠️ ستظهر نسبة التطابق للمطابقات الجزئية

**يمكنك تعديل المطابقة يدوياً:**
1. اضغط على القائمة المنسدلة بجانب أي عمود
2. اختر الحقل الصحيح
3. أو اختر "تجاهل هذا العمود"

**الحقول المطلوبة (يجب ربطها):**
- 🔴 العنوان
- 🔴 نوع العقار
- 🔴 نوع العرض
- 🔴 السعر

عندما تكتمل المطابقة، اضغط "متابعة للمعاينة"

---

### 3️⃣ معاينة البيانات

**ملخص التحقق:**
سيظهر ملخص شامل يوضح:
- 🟢 عدد الصفوف الصحيحة
- 🟡 عدد التحذيرات
- 🔴 عدد الأخطاء
- 📊 شريط تقدم ملون

**جدول المعاينة:**
- سترى أول 10 صفوف من البيانات
- كل صف ملون حسب حالته:
  - 🟢 أخضر = صحيح
  - 🟡 أصفر = تحذير
  - 🔴 أحمر = خطأ

**التحذيرات والأخطاء:**
- إذا كانت هناك أخطاء، ستظهر تحت الجدول
- يجب إصلاح الأخطاء في ملف Excel قبل الاستيراد
- التحذيرات لن تمنع الاستيراد

**الإجراء التالي:**
- إذا كانت هناك أخطاء → عد وأصلح الملف
- إذا لم تكن هناك أخطاء → اضغط "تأكيد الاستيراد"

---

### 4️⃣ الاستيراد (Progress Bar)

سترى شريط تقدم يعرض:
- 📊 نسبة الإنجاز (%)
- 🔢 عدد العقارات المعالجة / الإجمالي
- ⏱️ تقدير الوقت المتبقي
- ⚡ سرعة الاستيراد (عقار/ثانية)

**⚠️ هام:** لا تغلق النافذة حتى يكتمل الاستيراد!

---

### 5️⃣ اكتمل!

ستظهر رسالة نجاح تعرض:
- ✅ عدد العقارات المستوردة
- 📊 ملخص النجاح والفشل

**الخيارات:**
- "استيراد المزيد" → لاستيراد ملف آخر
- "العودة للعقارات" → للعودة لقائمة العقارات

---

## 📋 مثال على ملف Excel صحيح

### Sheet 1: العقارات

| العنوان | نوع العقار | نوع العرض | السعر | المساحة | غرف النوم | دورات المياه | المدينة | الحي |
|---------|-----------|----------|-------|---------|----------|-------------|---------|------|
| شقة فاخرة في العليا | شقة | بيع | 500000 | 200 | 3 | 2 | الرياض | العليا |
| فيلا عصرية في جدة | فيلا | إيجار | 8000 | 400 | 5 | 4 | جدة | الروضة |
| أرض سكنية في الخبر | أرض | بيع | 300000 | 600 | - | - | الخبر | الكورنيش |

### القيم المسموحة:

**نوع العقار:**
- شقة → apartment
- فيلا → villa
- أرض → land
- تجاري → commercial

**نوع العرض:**
- بيع → sale
- إيجار → rent

---

## ⚠️ أخطاء شائعة وحلولها

### ❌ "هذا الحقل مطلوب"
**الحل:** تأكد من أن جميع الحقول المطلوبة (العنوان، نوع العقار، نوع العرض، السعر) مملوءة

### ❌ "يجب أن يكون رقماً"
**الحل:** تأكد من أن الحقول الرقمية (السعر، المساحة، غرف النوم) تحتوي على أرقام فقط

### ❌ "نوع عرض غير صحيح"
**الحل:** استخدم "بيع" أو "إيجار" فقط

### ❌ "السعر يجب أن يكون أكبر من صفر"
**الحل:** تأكد من أن السعر رقم موجب

### ⚠️ "نوع غير معروف"
**ملاحظة:** هذا تحذير، لن يمنع الاستيراد. سيتم استخدام "أخرى" كنوع افتراضي.

---

## 💡 نصائح للاستيراد الناجح

### ✅ قبل الرفع:
1. تأكد من أن الصف الأول يحتوي على عناوين الأعمدة
2. استخدم أسماء واضحة للأعمدة (عربي أو إنجليزي)
3. تأكد من أن الأرقام بصيغة رقمية (بدون فواصل أو رموز)
4. احذف الصفوف الفارغة

### ✅ أثناء المطابقة:
1. تحقق من المطابقة التلقائية
2. عدّل أي مطابقة خاطئة
3. تأكد من ربط جميع الحقول المطلوبة

### ✅ قبل التأكيد:
1. راجع ملخص التحقق
2. اقرأ التحذيرات والأخطاء
3. إذا كانت هناك أخطاء، أصلح الملف وحاول مجدداً

---

## 🎓 حالات استخدام مفيدة

### حالة 1: استيراد عقارات جديدة
1. حمّل قائمة العقارات الجديدة في Excel
2. تأكد من وجود جميع الحقول المطلوبة
3. ارفع الملف واستورد

### حالة 2: استيراد من نظام آخر
1. صدّر البيانات من النظام القديم إلى Excel
2. تأكد من تطابق الأسماء أو عدّلها يدوياً
3. استورد بثقة - سيتم المطابقة تلقائياً

### حالة 3: تحديث جماعي
1. صدّر العقارات الحالية
2. عدّل في Excel
3. أعد الاستيراد (سيتم التحديث)

---

## 📞 الدعم

إذا واجهت أي مشكلة:
1. راجع رسائل الأخطاء في الصفحة
2. راجع ملف README.md للتفاصيل التقنية
3. تأكد من أن ملف Excel صحيح
4. حاول مجدداً مع عدد أقل من الصفوف للاختبار

---

## 🎉 الآن أنت جاهز!

ابدأ باستيراد عقاراتك الأولى في 5 دقائق فقط! 🚀
