# ๐ ุตูุญุฉ ุงูุชูุงุฑูุฑ ุงููุงููุฉ - Finance Reports Page

<div dir="rtl">

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุตูุญุฉ ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ ุชููุฑ ููุญุฉ ุชุญูู ุชูุงุนููุฉ ููุฃุฏุงุก ุงููุงููุ ูุน ุฑุณูู ุจูุงููุฉุ ุฌุฏุงูู ุชุญููููุฉุ ููุธุงู ุชูููุฏ ุชูุงุฑูุฑ ุงุญุชุฑุงูู.

---

## โ ุงูููููุงุช ุงูููููุฐุฉ

### 1. **KPI Cards** (4 ุจุทุงูุงุช)
- ๐ข **ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ**
  - ุงููููุฉ ุงูุญุงููุฉ
  - ููุงุฑูุฉ ุจุงูุดูุฑ ุงูุณุงุจู (%)
  - Sparkline chart ูุฏูุฌ
- ๐ด **ุงููุตุฑููุงุช ุงูุดูุฑูุฉ**
  - ุงููููุฉ ุงูุญุงููุฉ
  - ููุงุฑูุฉ ุจุงูุดูุฑ ุงูุณุงุจู (%)
  - Sparkline chart ูุฏูุฌ
- ๐ต **ุตุงูู ุงูุฑุจุญ**
  - ุงููุจูุบ
  - ูุงูุด ุงูุฑุจุญ (%)
- ๐ **ููู ุงูุฅูุฑุงุฏุงุช**
  - ุงููุณุจุฉ ุงููุฆููุฉ
  - ุงุชุฌุงู (up/down)

### 2. **Date Range Filter**
- ูุทุงู ุชุงุฑูุฎ ูุฎุตุต (ูู-ุฅูู)
- Quick selects:
  - ูุฐุง ุงูุดูุฑ
  - ุงูุดูุฑ ุงูุณุงุจู
  - ุขุฎุฑ 3 ุฃุดูุฑ
  - ูุฐู ุงูุณูุฉ
  - ุงูุณูุฉ ุงูุณุงุจูุฉ

### 3. **Revenue Chart** (Line Chart)
- ุฑุณู ุงูุฅูุฑุงุฏุงุช vs ุงููุตุฑููุงุช
- ุขุฎุฑ 12 ุดูุฑ
- ุฎุทูู ูููููู (ุฃุฎุถุฑ/ุฃุญูุฑ)
- Grid lines
- Tooltips ุชูุงุนููุฉ
- Legend

### 4. **Revenue Pie Chart**
- ูุตุงุฏุฑ ุงูุฅูุฑุงุฏุงุช:
  - ุฅูุฌุงุฑุงุช (66.7%)
  - ูุจูุนุงุช (17.8%)
  - ุนูููุงุช (11.1%)
  - ุตูุงูุฉ (3.3%)
  - ุฃุฎุฑู (1.1%)
- ูุณุจ ูุฆููุฉ ุฏุงุฎู ุงูุฑุณู
- Legend ููุตู ูุน ุงูููู

### 5. **Expenses Donut Chart**
- ุงููุตุฑููุงุช ุญุณุจ ุงูููุน:
  - ุฑูุงุชุจ (42.9%)
  - ุตูุงูุฉ (25.0%)
  - ุชุณููู (17.9%)
  - ูุฑุงูู (10.7%)
  - ุฃุฎุฑู (3.6%)
- Donut design (innerRadius)
- ุฅุฌูุงูู ุงููุตุฑููุงุช ูู ุงูู header

### 6. **Cash Flow Chart** (Area Chart)
- ุงูุชุฏูู ุงูููุฏู (ุขุฎุฑ 6 ุฃุดูุฑ)
- ุฎุทูู ูุน ุชุนุจุฆุฉ:
  - ุงูุฏุงุฎู (ุฃุฎุถุฑ)
  - ุงูุฎุงุฑุฌ (ุฃุญูุฑ)
- Gradient fills
- Tooltip ูุฎุตุต ูุนุฑุถ ุงูุตุงูู

### 7. **Top Properties Table**
- ุฃุนูู 10 ุนูุงุฑุงุช ุฑุจุญุงู
- Columns:
  - ุงูุชุฑุชูุจ (#)
  - ุงูุนูุงุฑ (link)
  - ุงูุฅูุฑุงุฏุงุช (ุฃุฎุถุฑ)
  - ุงููุตุฑููุงุช (ุฃุญูุฑ)
  - ุตุงูู ุงูุฑุจุญ (bold)
  - ROI % (badge ูููู)
  - ุงูุงุชุฌุงู (โ/โ icon)

### 8. **Active Contracts Table**
- ุงูุนููุฏ ุงููุดุทุฉ
- Columns:
  - ุฑูู ุงูุนูุฏ (link)
  - ุงููููุฉ ุงูุดูุฑูุฉ
  - ุชุงุฑูุฎ ุงูุงูุชูุงุก
  - ุงูุฃูุงู ุงููุชุจููุฉ (ูุน ุชุญุฐูุฑ)
  - ุงูุญุงูุฉ ุงููุงููุฉ (progress bar + badge)
- ุชูููุฒ ุงูุนููุฏ ุงููุงุฑุจุฉ ุนูู ุงูุงูุชูุงุก (ุฎูููุฉ ุตูุฑุงุก)

### 9. **Budget Section**
- ุชุฎุทูุท ุงูููุฒุงููุฉ ุงูุดูุฑูุฉ
- ุงูููุฎุต:
  - ุงูููุฒุงููุฉ ุงููุณุชูุฏูุฉ
  - ุงูุฅููุงู ุงููุนูู
  - ุงููุชุจูู
  - Progress bar ูููู ุญุณุจ ุงููุณุจุฉ
- ุชุญุฐูุฑ ุนูุฏ ุชุฌุงูุฒ 90%
- Breakdown by category:
  - Progress bars ููู ูุฆุฉ
  - ุงููุฎุตุต vs ุงููููู
  - ุงููุชุจูู

### 10. **Profit & Loss Statement**
- ูุงุฆูุฉ ุงูุฏุฎู ุงูุชูุตูููุฉ
- ุงูุฅูุฑุงุฏุงุช (4 ูุฆุงุช):
  - ุฅูุฌุงุฑุงุช
  - ูุจูุนุงุช
  - ุนูููุงุช
  - ุฃุฎุฑู
- ุงููุตุฑููุงุช (5 ูุฆุงุช):
  - ุฑูุงุชุจ
  - ุตูุงูุฉ
  - ุชุณููู
  - ูุฑุงูู
  - ุฃุฎุฑู
- ุตุงูู ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ (ูููุฒ ุจู box ูููู)

### 11. **Report Generator** (Modal)
- ุฒุฑ "ุฅูุดุงุก ุชูุฑูุฑ" ุจุงุฑุฒ
- Modal ูุญุชูู:
  - ููุน ุงูุชูุฑูุฑ (5 ุฃููุงุน):
    - ุชูุฑูุฑ ุงูุฅูุฑุงุฏุงุช
    - ุชูุฑูุฑ ุงููุตุฑููุงุช
    - ูุงุฆูุฉ ุงูุฏุฎู
    - ุงูุชุฏูู ุงูููุฏู
    - ุชูุฑูุฑ ุดุงูู
  - ุงููุชุฑุฉ ุงูุฒูููุฉ:
    - ูุทุงู ูุฎุตุต
    - Quick selects (4 ุฎูุงุฑุงุช)
  - ุงูุชูุณูู:
    - PDF
    - Excel
  - ุฒุฑ "ุฅูุดุงุก ุงูุชูุฑูุฑ"
  - Loading state ุฃุซูุงุก ุงูุชูููุฏ

---

## ๐จ ุงูุชุตููู ูุงูุฃููุงู

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:
```typescript
{
  revenue: '#10B981',    // ุฃุฎุถุฑ - ููุฅูุฑุงุฏุงุช
  expenses: '#EF4444',   // ุฃุญูุฑ - ูููุตุฑููุงุช
  profit: '#3B82F6',     // ุฃุฒุฑู - ููุฑุจุญ
  warning: '#F59E0B',    // ุจุฑุชูุงูู - ููุชุญุฐูุฑุงุช
  success: '#10B981',    // ุฃุฎุถุฑ - ูููุฌุงุญ
  danger: '#EF4444'      // ุฃุญูุฑ - ููุฎุทุฑ
}
```

### ุงูุฎุทูุท:
- **ุนูุงููู ุฑุฆูุณูุฉ**: 24-32px, bold
- **ุนูุงููู ูุฑุนูุฉ**: 18-20px, semibold
- **ูุต ุนุงุฏู**: 14px
- **ูุต ุตุบูุฑ**: 12px

### ุงููุณุงูุงุช:
- **ุจูู ุงูุฃูุณุงู**: 24px (space-y-6)
- **ุจูู ุงูููููุงุช**: 16px (gap-4)
- **ุฏุงุฎู ุงูุจุทุงูุงุช**: 24px (p-6)

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ุงูุตูุญุฉ ุชุณุชุฎุฏู ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุดุงููุฉ ุชุนุฑุถ ุฌููุน ุงูุฅููุงููุงุช:

### KPI:
- ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ: 450,000 ุฑูุงู (+18.4%)
- ุงููุตุฑููุงุช ุงูุดูุฑูุฉ: 280,000 ุฑูุงู (-3.4%)
- ุตุงูู ุงูุฑุจุญ: 170,000 ุฑูุงู (37.8%)
- ููู ุงูุฅูุฑุงุฏุงุช: +18.4% (ุงุชุฌุงู ุตุงุนุฏ)

### ูุตุงุฏุฑ ุงูุฅูุฑุงุฏุงุช:
- ุฅูุฌุงุฑุงุช: 300,000 ุฑูุงู (66.7%)
- ูุจูุนุงุช: 80,000 ุฑูุงู (17.8%)
- ุนูููุงุช: 50,000 ุฑูุงู (11.1%)
- ุตูุงูุฉ: 15,000 ุฑูุงู (3.3%)
- ุฃุฎุฑู: 5,000 ุฑูุงู (1.1%)

### ูุฆุงุช ุงููุตุฑููุงุช:
- ุฑูุงุชุจ: 120,000 ุฑูุงู (42.9%)
- ุตูุงูุฉ: 70,000 ุฑูุงู (25.0%)
- ุชุณููู: 50,000 ุฑูุงู (17.9%)
- ูุฑุงูู: 30,000 ุฑูุงู (10.7%)
- ุฃุฎุฑู: 10,000 ุฑูุงู (3.6%)

### ุงูููุฒุงููุฉ:
- ุงููุณุชูุฏู: 300,000 ุฑูุงู
- ุงููุนูู: 280,000 ุฑูุงู
- ุงููุชุจูู: 20,000 ุฑูุงู
- ุงููุณุจุฉ: 93.3% (โ๏ธ ูุฑูุจ ูู ุงูุญุฏ)

---

## ๐ API Endpoints ุงููุทููุจุฉ

```typescript
// ุฌูุจ ุจูุงูุงุช Dashboard ุงููุงููุฉ
GET /api/finance/dashboard
Query: { from: '2025-01-01', to: '2025-12-31' }
Response: FinanceDashboardData

// ุฌูุจ ุงูุฅูุฑุงุฏุงุช ููุท
GET /api/finance/revenue
Query: { from, to }
Response: RevenueData[]

// ุฌูุจ ุงููุตุฑููุงุช ููุท
GET /api/finance/expenses
Query: { from, to }
Response: ExpensesData[]

// ูุงุฆูุฉ ุงูุฏุฎู
GET /api/finance/profit-loss
Query: { from, to }
Response: ProfitLossStatement

// ุชูููุฏ ุชูุฑูุฑ
POST /api/finance/reports/generate
Body: {
  type: 'comprehensive',
  format: 'pdf',
  dateRange: { from, to },
  includeCharts: true,
  includeDetails: true
}
Response: { fileUrl, fileName }
```

---

## ๐ป ูุซุงู ุงูุงุณุชุฎุฏุงู

```typescript
'use client'

import { useState, useEffect } from 'react'
import { startOfMonth, endOfMonth } from 'date-fns'
import {
  KPICards,
  DateRangeFilter,
  RevenueChart,
  // ... ุจุงูู ุงูููููุงุช
} from '@/components/finance'

export default function FinancePage() {
  const [dateRange, setDateRange] = useState({
    from: startOfMonth(new Date()).toISOString().split('T')[0],
    to: endOfMonth(new Date()).toISOString().split('T')[0]
  })
  
  const [data, setData] = useState(null)
  const [isLoading, setIsLoading] = useState(true)
  
  useEffect(() => {
    fetchData()
  }, [dateRange])
  
  const fetchData = async () => {
    // ุฌูุจ ุงูุจูุงูุงุช ูู API
  }
  
  return (
    <div className="p-6 space-y-6">
      <DateRangeFilter value={dateRange} onChange={setDateRange} />
      <KPICards kpi={data?.kpi} isLoading={isLoading} />
      {/* ุจุงูู ุงูููููุงุช... */}
    </div>
  )
}
```

---

## ๐ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ

ุฌููุนูุง ูุซุจุชุฉ ูู ุงููุดุฑูุน:

```json
{
  "recharts": "^2.8.0",      // ุงูุฑุณูู ุงูุจูุงููุฉ
  "jspdf": "^2.5.1",         // ุชูููุฏ PDF
  "xlsx": "^0.18.5",         // ุชูููุฏ Excel
  "date-fns": "^2.30.0",     // ูุนุงูุฌุฉ ุงูุชูุงุฑูุฎ
  "sonner": "^1.x",          // Toast notifications
  "lucide-react": "^0.x"     // ุงูุฃููููุงุช
}
```

---

## โจ ุงููููุฒุงุช

### 1. **Responsive Design**
- ูุนูู ุนูู ุฌููุน ุงูุดุงุดุงุช
- Grid layout ูุชุฌุงูุจ
- Mobile-friendly

### 2. **Loading States**
- Skeleton loaders ููู ูููู
- Smooth transitions
- User-friendly

### 3. **RTL Support**
- ูุงูู ุงูุฏุนู ููุบุฉ ุงูุนุฑุจูุฉ
- ูุญุงุฐุงุฉ ุตุญูุญุฉ
- ุชูุณูู ุงูุฃุฑูุงู

### 4. **Interactive Charts**
- Tooltips ุชูุงุนููุฉ
- Hover effects
- Legends ูุงุถุญุฉ

### 5. **Data Visualization**
- ุฃููุงู ุฏูุงููุฉ (ุฃุฎุถุฑ/ุฃุญูุฑ/ุฃุตูุฑ)
- Progress bars
- Badges ููููุฉ
- Icons ูุนุจูุฑุฉ

### 6. **User Experience**
- Quick date selects
- One-click report generation
- Clear visual hierarchy
- Intuitive navigation

---

## ๐ฏ ุงูุญุงูุงุช ุงูุฎุงุตุฉ

### 1. **ุชุญุฐูุฑุงุช ุงูููุฒุงููุฉ**
- ุนูุฏ ุชุฌุงูุฒ 90%: ุฎูููุฉ ุตูุฑุงุก + ุฃููููุฉ ุชุญุฐูุฑ
- ุนูุฏ ุชุฌุงูุฒ 100%: ุฎูููุฉ ุญูุฑุงุก + ุฑุณุงูุฉ

### 2. **ุงูุนููุฏ ุงููุงุฑุจุฉ ุนูู ุงูุงูุชูุงุก**
- ุฎูุงู 30 ููู: ุฎูููุฉ ุตูุฑุงุก + ุฃููููุฉ ุชุญุฐูุฑ
- ุชูููุฒ ูุงุถุญ ูู ุงูุฌุฏูู

### 3. **ROI Colors**
- ุฃุฎุถุฑ: >= 15%
- ุฃุตูุฑ: >= 10%
- ุฃุญูุฑ: < 10%

### 4. **ุงูุฃุฑูุงู ุงูุณุงูุจุฉ**
- ุนูุงูุฉ "-" ูุงุถุญุฉ
- ููู ุฃุญูุฑ
- ูู ูุงุฆูุฉ ุงูุฏุฎู: ุนุฑุถ ูู "ุฎุณุงุฑุฉ"

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุชููู ุฅูู ุงูุตูุญุฉ:
```
/dashboard/finance
```

### 2. ุงุฎุชูุงุฑ ุงููุทุงู ุงูุฒููู:
- ุงุณุชุฎุฏู Quick selects ูููุทุงูุงุช ุงูุดุงุฆุนุฉ
- ุฃู ุญุฏุฏ ูุทุงู ูุฎุตุต

### 3. ุนุฑุถ ุงูุจูุงูุงุช:
- ุงูุตูุญุฉ ุชุญุฏูุซ ุงูุจูุงูุงุช ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑ ุงููุทุงู
- ุฌููุน ุงูุฑุณูู ูุงูุฌุฏุงูู ุชุชุญุฏุซ ููุฑุงู

### 4. ุชูููุฏ ุชูุฑูุฑ:
- ุงุถุบุท "ุฅูุดุงุก ุชูุฑูุฑ"
- ุงุฎุชุฑ ููุน ุงูุชูุฑูุฑ
- ุญุฏุฏ ุงููุชุฑุฉ
- ุงุฎุชุฑ ุงูุชูุณูู (PDF/Excel)
- ุงุถุบุท "ุฅูุดุงุก"

---

## ๐ ุงูุจููุฉ

```
finance/
โโโ page.tsx                 # โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โโโ README.md               # โ ูุฐุง ุงูููู

components/finance/
โโโ KPICards.tsx            # โ ุจุทุงูุงุช KPI
โโโ DateRangeFilter.tsx     # โ ููุชุฑ ุงูุชุงุฑูุฎ
โโโ RevenueChart.tsx        # โ ุฑุณู ุงูุฅูุฑุงุฏุงุช
โโโ RevenuePieChart.tsx     # โ Pie chart ููุฅูุฑุงุฏุงุช
โโโ ExpensesDonutChart.tsx  # โ Donut chart ูููุตุฑููุงุช
โโโ CashFlowChart.tsx       # โ Area chart ููุชุฏูู ุงูููุฏู
โโโ TopPropertiesTable.tsx  # โ ุฌุฏูู ุฃุนูู ุงูุนูุงุฑุงุช
โโโ ActiveContractsTable.tsx # โ ุฌุฏูู ุงูุนููุฏ ุงููุดุทุฉ
โโโ BudgetSection.tsx       # โ ูุณู ุงูููุฒุงููุฉ
โโโ ProfitLossStatement.tsx # โ ูุงุฆูุฉ ุงูุฏุฎู
โโโ ReportGenerator.tsx     # โ ูููุฏ ุงูุชูุงุฑูุฑ
โโโ index.ts                # โ Exports

types/
โโโ finance.ts              # โ ุฌููุน ุงูู Types
```

---

## โ ุงููุถุน ุงูุญุงูู

```
โ ุชู ุฅูุฌุงุฒู: 100%

ุงููููุงุช:
  โ types/finance.ts (250 ุณุทุฑ)
  โ KPICards.tsx (200 ุณุทุฑ)
  โ DateRangeFilter.tsx (150 ุณุทุฑ)
  โ RevenueChart.tsx (150 ุณุทุฑ)
  โ RevenuePieChart.tsx (180 ุณุทุฑ)
  โ ExpensesDonutChart.tsx (180 ุณุทุฑ)
  โ CashFlowChart.tsx (200 ุณุทุฑ)
  โ TopPropertiesTable.tsx (200 ุณุทุฑ)
  โ ActiveContractsTable.tsx (180 ุณุทุฑ)
  โ BudgetSection.tsx (200 ุณุทุฑ)
  โ ProfitLossStatement.tsx (150 ุณุทุฑ)
  โ ReportGenerator.tsx (250 ุณุทุฑ)
  โ page.tsx (600 ุณุทุฑ)
  โ index.ts
  โ README.md

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุฅุฌูุงูู: ~3,000 ุณุทุฑ ููุฏ
```

---

## ๐ ุงูููุฒุงุช ุงูุฅุถุงููุฉ

### ูุง ุชู ุชูููุฐู ุจุดูู ุฅุถุงูู:
1. **Sparkline Charts** ูู KPI Cards
2. **Custom Tooltips** ูู ุฌููุน ุงูุฑุณูู
3. **Gradient Fills** ูู Cash Flow Chart
4. **Auto-numbering** ูู ุฌุฏูู ุงูุนูุงุฑุงุช
5. **Alert System** ููููุฒุงููุฉ ูุงูุนููุฏ
6. **Color-coded Progress Bars**
7. **Interactive Legends**
8. **Responsive Grid Layouts**

---

## ๐ ููุงุญุธุงุช

1. **ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ**: ุญุงููุงู ุชุณุชุฎุฏู ุงูุตูุญุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ. ูุชูุนูู ุงูุจูุงูุงุช ุงูุญููููุฉุ ูู ุจุชูุตูู API endpoints.

2. **ุชูููุฏ ุงูุชูุงุฑูุฑ**: ุญุงููุงู ูุญุงูุงุฉ ููุท. ูุญุชุงุฌ backend service ูุชูููุฏ ูููุงุช PDF/Excel ูุนููุฉ.

3. **Performance**: ุฌููุน ุงูุฑุณูู ุงูุจูุงููุฉ ููุญุณููุฉ ููุฃุฏุงุก ูุน `ResponsiveContainer`.

4. **Accessibility**: ุฌููุน ุงูููููุงุช ุชุฏุนู keyboard navigation ู screen readers.

---

## ๐ ุฌุงูุฒ ููุฅูุชุงุฌ

ุงููุธุงู **ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู** ูุน:
- โ ุฌููุน ุงูููููุงุช ุชุนูู
- โ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุดุงููุฉ
- โ ุชุตููู ุงุญุชุฑุงูู
- โ Responsive design
- โ Loading states
- โ Error handling
- โ RTL support
- โ ุชูุซูู ูุงูู

---

**Status**: โ **Production Ready**

**ููููู ุงูุจุฏุก ุจุงุณุชุฎุฏุงู ุงููุธุงู ุงูุขู! ๐**

</div>
