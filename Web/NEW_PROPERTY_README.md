# صفحة إضافة عقار جديد

تم إنشاء صفحة إضافة عقار جديد كاملة مع نموذج احترافي ورفع صور.

## الملفات المنشأة

### 1. مكونات UI إضافية
- `src/components/ui/textarea.tsx` - مكون النص متعدد الأسطر

### 2. صفحة إضافة العقار
- `src/app/dashboard/properties/new/page.tsx` - صفحة إضافة عقار جديد

## الميزات

### النموذج الاحترافي
- **التحقق من البيانات**: استخدام Zod للـ validation
- **إدارة الحالة**: استخدام React Hook Form
- **تصميم متجاوب**: RTL مع Tailwind CSS
- **أقسام منظمة**: معلومات أساسية، تفاصيل، موقع، صور، مميزات

### أقسام النموذج

#### 1. المعلومات الأساسية
- عنوان العقار (مطلوب)
- وصف تفصيلي (مطلوب)
- نوع العقار (شقة، فيلا، أرض، تجاري، عمارة)
- حالة العقار (متاح، مباع، مؤجر، قيد الانتظار)

#### 2. التفاصيل والأسعار
- السعر بالريال السعودي (مطلوب)
- المساحة بالمتر المربع (مطلوبة)
- عدد غرف النوم (اختياري)
- عدد الحمامات (اختياري)

#### 3. الموقع
- المدينة (قائمة منسدلة)
- الحي (مطلوب)
- العنوان التفصيلي (مطلوب)

#### 4. الصور
- رفع متعدد للصور
- معاينة فورية للصور المرفوعة
- إمكانية حذف الصور
- تحقق من وجود صورة واحدة على الأقل

#### 5. المميزات
- إضافة مميزات مخصصة
- عرض المميزات كـ tags
- إمكانية حذف المميزات

### الميزات التقنية

#### Validation
- التحقق من صحة البيانات باستخدام Zod
- رسائل خطأ باللغة العربية
- التحقق من الحقول المطلوبة
- التحقق من صحة الأرقام

#### رفع الصور
- رفع متعدد للصور
- معاينة فورية
- إدارة حالة التحميل
- معالجة الأخطاء

#### إدارة الحالة
- استخدام Zustand للـ state management
- إضافة العقار الجديد للـ store
- تحديث قائمة العقارات

#### التنقل
- العودة لقائمة العقارات
- إعادة التوجيه بعد الحفظ
- رسائل نجاح/فشل

## الاستخدام

### 1. الوصول للصفحة
```
/dashboard/properties/new
```

### 2. ملء النموذج
- املأ جميع الحقول المطلوبة (المميزة بـ *)
- ارفع صورة واحدة على الأقل
- أضف المميزات المطلوبة

### 3. الحفظ
- اضغط "حفظ العقار"
- سيتم إضافة العقار للـ store
- إعادة التوجيه لقائمة العقارات

## المتطلبات

### المكتبات
- `react-hook-form` - إدارة النماذج
- `zod` - التحقق من البيانات
- `@hookform/resolvers` - ربط Zod مع React Hook Form
- `sonner` - الإشعارات

### API Endpoints
- `POST /properties/upload` - رفع الصور
- `POST /properties` - إنشاء عقار جديد

### المتغيرات البيئية
- `office_id` - يجب حفظه في localStorage

## التصميم

### الألوان
- اللون الأساسي: `#0066CC`
- اللون الثانوي: `#0052A3`
- تصميم RTL كامل

### المكونات
- Cards منظمة للأقسام
- أزرار واضحة ومفهومة
- رسائل خطأ واضحة
- تصميم متجاوب

## معالجة الأخطاء

- رسائل خطأ واضحة باللغة العربية
- معالجة أخطاء رفع الصور
- معالجة أخطاء API
- رسائل نجاح/فشل

## التحسينات المستقبلية

- إضافة معاينة مباشرة للصور
- إضافة drag & drop للصور
- إضافة حفظ مسودة
- إضافة تحقق من صحة الصور
- إضافة ضغط الصور