# ๐ ุฏููู ููุงุชูุญ Supabase - ุงููุฑู ุจูู anon ู service_role

## ุงููุฑู ุจูู ุงูููุชุงุญูู

### 1๏ธโฃ SUPABASE_ANON_KEY (ุงูููุชุงุญ ุงูุนุงู)
- โ **ููุงุณุชุฎุฏุงู ูู**: ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend/Web/Mobile)
- โ **ุงูุฃูุงู**: ุขูู ูููุดุงุฑูุฉ ูู ุงูููุฏ ุงูุนุงู
- โ **ุงูุตูุงุญูุงุช**: ูุญุฏูุฏุฉ ุจู Row Level Security (RLS)
- โ **ููุณ ูุงููุงู**: ูุฅูุดุงุก ูุฏูุฑ ุงููุธุงู ูู Backend

### 2๏ธโฃ SUPABASE_SERVICE_ROLE_KEY (ููุชุงุญ ุงูุฎุงุฏู)
- โ **ููุงุณุชุฎุฏุงู ูู**: ุงูุฎุงุฏู/Backend ููุท
- โ๏ธ **ุงูุฃูุงู**: ุณุฑู ุฌุฏุงู - ูุง ููุดุงุฑู ุฃุจุฏุงู
- โ **ุงูุตูุงุญูุงุช**: ุตูุงุญูุงุช ูุงููุฉ - ูุชุฌุงูุฒ RLS
- โ **ูุฐุง ูุง ูุญุชุงุฌู**: ูุฅูุดุงุก ูุฏูุฑ ุงููุธุงู

---

## ๐ ููู ุชุฌุฏ service_role key ูู ููุญุฉ Supabase

### ุงูุฎุทูุฉ 1: ุงูุชุญ ุตูุญุฉ API Settings
```
https://app.supabase.com/project/mbpznkqyeofxluqwybyo/settings/api
```

### ุงูุฎุทูุฉ 2: ุงุจุญุซ ุนู ูุณู "Project API keys"

ุณุชุฑู ุฌุฏูู ูุซู ูุฐุง:

```
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Name            โ Key                                      โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ anon            โ eyJhbGci... [๐๏ธ Reveal] [๐ Copy]      โ
โ public          โ                                          โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ service_role    โ โขโขโขโขโขโขโขโขโขโขโข [๐๏ธ Reveal] [๐ Copy]      โ
โ secret          โ โ๏ธ This key can bypass Row Level Securityโ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูุฎุทูุฉ 3: ุงูููุชุงุญ ุงูุฐู ุชุญุชุงุฌู

**โ ููุณ ูุฐุง (anon key):**
```
Name: anon / public
Used for: Client-side applications
```

**โ ูุฐุง ูู ุงููุทููุจ (service_role key):**
```
Name: service_role / secret
Warning: This key has the ability to bypass Row Level Security
         Never expose it in a browser or anywhere client-side
```

---

## ๐ ุทุฑู ุจุฏููุฉ ูููุตูู ููููุชุงุญ

### ุงูุทุฑููุฉ 1: ูู ูุณู Service Role Key ูุจุงุดุฑุฉ

ูู ููุณ ุงูุตูุญุฉุ ุงุจุญุซ ุนู ูุณู ูููุตู ุงุณูู:
```
Service role key
This key should never be used in a browser and should be kept secret
```

### ุงูุทุฑููุฉ 2: ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

1. ุงุฐูุจ ุฅูู **Settings** (โ๏ธ)
2. ุงุฎุชุฑ **API**
3. scroll ููุฃุณูู ุญุชู ุชุฌุฏ **Service Role** section

### ุงูุทุฑููุฉ 3: ุจุงุณุชุฎุฏุงู Supabase CLI

ุฅุฐุง ูุงู ูุฏูู Supabase CLI ูุซุจุช:

```bash
supabase status
```

ุณูุนุฑุถ ูู ุฌููุน ุงูููุงุชูุญ ุจูุง ูููุง service_role.

---

## โ ูุงุฐุง ูู ูู ุชุฌุฏ service_role keyุ

### ุงูุงุญุชูุงูุงุช:

#### 1. ุงูููุชุงุญ ููุฌูุฏ ูููู ูุฎูู
- ุงุถุบุท ุนูู ุฒุฑ **"Reveal"** ุฃู **"Show"** ุจุฌุงูุจ service_role
- ูุฏ ูุทูุจ ููู ูููุฉ ูุฑูุฑ ุญุณุงุจู ููุชุฃููุฏ

#### 2. ููุณ ูุฏูู ุตูุงุญูุงุช ูุงููุฉ
- ุชุญุชุงุฌ ุฃู ุชููู **Owner** ุฃู **Admin** ูููุดุฑูุน
- ุงุชุตู ุจูุงูู ุงููุดุฑูุน ููุญุตูู ุนูู ุงูููุชุงุญ

#### 3. ุงููุดุฑูุน ูุฏูู ุฌุฏุงู
- ูู ุงููุดุงุฑูุน ุงููุฏููุฉ ุฌุฏุงูุ ูุฏ ูููู ุงูููุชุงุญ ูู ููุงู ูุฎุชูู
- ุฌุฑูุจ ุฅูุดุงุก ููุชุงุญ ุฌุฏูุฏ ูู **Settings โ API โ Generate new key**

---

## ๐ ุจุนุฏ ุงูุญุตูู ุนูู ุงูููุชุงุญ

ุนุฏูู ููู `/workspace/api/.env`:

```bash
# ุถุน ุงูููุชุงุญ ุงูุตุญูุญ ููุง
SUPABASE_URL=https://mbpznkqyeofxluqwybyo.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS...
#                          โ ูุฐุง ูุฌุจ ุฃู ูููู ุทููู ุฌุฏุงู (200+ ุญุฑู)
```

---

## ๐ฏ ููู ุชุชุฃูุฏ ุฃู ุงูููุชุงุญ ุตุญูุญุ

**ููุชุงุญ service_role ุงูุตุญูุญ:**
- โ ุทููู ุญูุงูู 200-300 ุญุฑู
- โ ูุจุฏุฃ ุจู `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3M...`
- โ ุนูุฏ ูู ุชุดููุฑูุ ูุญุชูู ุนูู `"role":"service_role"`

**ุงุฎุชุจุงุฑ ุณุฑูุน (ุงุฎุชูุงุฑู):**
```bash
# ุงูุชุญ https://jwt.io
# ุงูุตู ุงูููุชุงุญ
# ูุฌุจ ุฃู ุชุฑู ูู ุงูู payload:
{
  "iss": "supabase",
  "ref": "mbpznkqyeofxluqwybyo",
  "role": "service_role",  โ ูุฐุง ูุคูุฏ ุฃูู ุงูููุชุงุญ ุงูุตุญูุญ
  ...
}
```

---

## โ๏ธ ุชุญุฐูุฑุงุช ุฃูููุฉ

1. **ูุง ุชุดุงุฑู** ููุชุงุญ service_role ูู:
   - โ ุงูููุฏ ุงูุนุงู (GitHub public repos)
   - โ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend code)
   - โ ุงููุชุตูุญ (Browser console)
   - โ ุงูุฑุณุงุฆู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

2. **ุงุณุชุฎุฏูู ููุท ูู**:
   - โ ูููุงุช .env ุนูู ุงูุฎุงุฏู
   - โ Backend API
   - โ Scripts ุนูู ุงูุฎุงุฏู (ูุซู seed:superadmin)

3. **ุฅุฐุง ุชุณุฑูุจ ุงูููุชุงุญ**:
   - ๐จ ุงุฐูุจ ููุฑุงู ุฅูู Supabase Dashboard
   - ๐จ Settings โ API โ Regenerate service_role key
   - ๐จ ุญุฏูุซ ุงูููุชุงุญ ูู ุฌููุน ูููุงุช .env

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุฃูุฏ ุฃูู ูุณุฌู ุฏุฎูู ูู ุงูุญุณุงุจ ุงูุตุญูุญ
2. ุชุฃูุฏ ุฃู ูุฏูู ุตูุงุญูุงุช Owner/Admin
3. ุฌุฑูุจ ูุชุญ ุงูุตูุญุฉ ูู ูุถุน ุงูุชุตูุญ ุงูุฎูู
4. ุงุชุตู ุจุฏุนู Supabase: https://supabase.com/support
